Configuration:
  status: WARN

  Properties:

    Property:
      name: LOG_DIR
      value: log

  Appenders:

    Console:
      name: Console
      target: SYSTEM_OUT

      PatternLayout:
        pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} %highlight{%-5level} [%style{%t}{bright,blue}] %style{%C{1.}}{bright,yellow}: %msg%n%throwable"

    RollingFile:
      name: File
      fileName: ${LOG_DIR}/log.log
      filePattern: ${LOG_DIR}/log_%i.log
      append: false
      immediateFlush: true

      PatternLayout:
        pattern: "%d{yyyy-MM-dd HH:mm:ss.SSS} %-5level [%t] %C{1.}: %msg%n%throwable"
        disableAnsi: true

      Policies:
        SizeBasedTriggeringPolicy:
          size: 10MB

      DefaultRolloverStrategy:
        fileIndex: max
        min: 1
        max: 3

  Loggers:

    Root:
      level: INFO
      AppenderRef:
        - ref: Console

    Logger:
      name: com.dms
      level: TRACE
      additivity: false
      AppenderRef:
        - ref: File
